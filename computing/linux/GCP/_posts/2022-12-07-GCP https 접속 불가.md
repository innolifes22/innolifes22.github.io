---
layout: single
title: "Linux OS의 ssh config에서 alias로 필요한 옵션 미리 설정하고 불필요한 입력 줄이기"
date: "2022-12-07 15:31:00 +0900"
last_modified_at: "2022-12-07 15:31:00 +0900"
---

[GCP] VPC 네트워크 방화벽 설정(톰캣 웹서비스) </br>


## GCP 설정 후, 외부 접속이 왜 안될까?
VM에 톰캣을 설치하고 외부아이피를 이용해 접속을 시도해본다...(8080)
윈도우 방화벽 때문일까...
...
윈도우 inbound 방화벽 규칙을 추가해본다.
80과 8080을 추가한다.

이래도 안된다...
톰캣 기본포트를 80으로 변경해보니 외부에서 접속이 된다.

이건 아마도 외부 방화벽의 문제같다...
검색해보니 VPC(Virtual Private Cloud) 네트워크라는 데에 방화벽 설정하는 곳이 있다.

방화벽 규칙 메뉴에 들어가 보니 기본적인 정책들이 몇가지 들어가 있다.
그중에는 80, 443 포트가 들어가 있는데 이건 VM 설정시 http, https 서버로 설정을 한 것이다.

SRC IP 0.0.0.0/0 하고 포트 8080하고 기타 등등....
어~! 왜 안되지?
설정을 보다보니 "대상 태그"라는 것이 있는데... 이건... 보통의 방화벽에 없는 항목이라 대애~충 http라고만 적었는데... 이게 문제였다.
http-server라고... 기존 80포트 규칙과 동일하게 맞춰보았더니
8080포트로 제대로 들어온다.

앞의 "대상" 항목에서 "지정된 대상 태그"(기본값)로 설정할 경우,
"대상 태그"란 것이... 일치하는 서버 대상으로만 규칙이 적용된다.

screenshot
![screensh](./assets/images/ETC/Blog/VPC_network.png